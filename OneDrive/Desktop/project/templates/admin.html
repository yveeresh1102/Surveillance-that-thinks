<!doctype html>
<html>
<head><meta charset="utf-8"><title>Admin</title></head>
<body style="background:#111;color:#fff;font-family:Arial;">
  <h1>Admin Control Center</h1>
  <table border="1" id="alertsTable" style="width:100%;color:#fff;">
    <thead><tr><th>ID</th><th>Cam</th><th>Time</th><th>Type</th><th>Confidence</th><th>Clip</th></tr></thead>
    <tbody></tbody>
  </table>

  <script>
    async function loadAlerts(){
      const res = await fetch('/api/alerts');
      const arr = await res.json();
      const tbody = document.querySelector('#alertsTable tbody');
      tbody.innerHTML='';
      arr.forEach(a=>{
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${a.id}</td>
                        <td>${a.camera}</td>
                        <td>${a.timestamp}</td>
                        <td>${a.type}</td>
                        <td>${a.confidence}</td>
                        <td>${a.clip ? ('<a href="/' + a.clip + '" target="_blank">view</a>') : ''}</td>`;
        tbody.appendChild(tr);
      });
    }
    loadAlerts();
  </script>
</body>
</html>
